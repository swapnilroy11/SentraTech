{"version":3,"file":"static/js/278.1fb95f3b.chunk.js","mappings":"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","sources":["utils/diagnostics.js"],"sourcesContent":["// Comprehensive Diagnostic Tool for Dashboard Integration Issues\n// This will capture everything about the submission process\n\nexport const runComprehensiveDiagnostics = async () => {\n  console.log('üî¨ STARTING COMPREHENSIVE DIAGNOSTIC SESSION');\n  console.log('=' .repeat(80));\n  \n  const diagnosticData = {\n    timestamp: new Date().toISOString(),\n    environment: {},\n    network: {},\n    requests: [],\n    errors: []\n  };\n  \n  try {\n    // 1. Environment Detection\n    diagnosticData.environment = {\n      userAgent: navigator.userAgent,\n      currentURL: window.location.href,\n      origin: window.location.origin,\n      hostname: window.location.hostname,\n      protocol: window.location.protocol,\n      port: window.location.port,\n      cookieEnabled: navigator.cookieEnabled,\n      onLine: navigator.onLine,\n      language: navigator.language,\n      platform: navigator.platform,\n      timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone\n    };\n    \n    console.log('üìä Environment:', diagnosticData.environment);\n    \n    // 2. Network Configuration Check\n    const { DASHBOARD_CONFIG } = await import('../config/dashboardConfig.js');\n    const BACKEND_URL = process.env.REACT_APP_BACKEND_URL || import.meta.env.REACT_APP_BACKEND_URL;\n    \n    diagnosticData.network = {\n      backendURL: BACKEND_URL,\n      newsletterEndpoint: DASHBOARD_CONFIG.ENDPOINTS.NEWSLETTER,\n      fullURL: `${BACKEND_URL}${DASHBOARD_CONFIG.ENDPOINTS.NEWSLETTER}`,\n      healthCheckURL: `${BACKEND_URL}${DASHBOARD_CONFIG.HEALTHCHECK_URL}`\n    };\n    \n    console.log('üåê Network Config:', diagnosticData.network);\n    \n    // 3. Test Actual Form Submission Process\n    const testEmail = `diagnostic-${Date.now()}@example.com`;\n    const testData = {\n      email: testEmail,\n      source: 'diagnostic_test',\n      timestamp: new Date().toISOString()\n    };\n    \n    console.log('üß™ Testing form submission with:', testData);\n    \n    // 4. Capture Network Request Details\n    const { submitFormToDashboard } = await import('../config/dashboardConfig.js');\n    \n    // Override fetch temporarily to capture request details\n    const originalFetch = window.fetch;\n    window.fetch = async (...args) => {\n      const [url, options] = args;\n      \n      const requestDetails = {\n        url: url,\n        method: options?.method || 'GET',\n        headers: options?.headers || {},\n        body: options?.body || null,\n        timestamp: new Date().toISOString()\n      };\n      \n      console.log('üì° CAPTURED REQUEST:', requestDetails);\n      diagnosticData.requests.push(requestDetails);\n      \n      try {\n        const response = await originalFetch(...args);\n        \n        const responseDetails = {\n          status: response.status,\n          statusText: response.statusText,\n          headers: Object.fromEntries(response.headers.entries()),\n          url: response.url,\n          timestamp: new Date().toISOString()\n        };\n        \n        console.log('üì• CAPTURED RESPONSE:', responseDetails);\n        requestDetails.response = responseDetails;\n        \n        // Clone response to read body without consuming it\n        const responseClone = response.clone();\n        try {\n          const responseBody = await responseClone.text();\n          requestDetails.responseBody = responseBody;\n          console.log('üìÑ RESPONSE BODY:', responseBody);\n        } catch (e) {\n          console.log('‚ö†Ô∏è Could not read response body:', e.message);\n        }\n        \n        return response;\n      } catch (error) {\n        console.error('‚ùå REQUEST FAILED:', error);\n        requestDetails.error = error.message;\n        diagnosticData.errors.push({\n          type: 'fetch_error',\n          message: error.message,\n          stack: error.stack,\n          timestamp: new Date().toISOString()\n        });\n        throw error;\n      }\n    };\n    \n    // 5. Perform Actual Submission\n    try {\n      const result = await submitFormToDashboard(\n        DASHBOARD_CONFIG.ENDPOINTS.NEWSLETTER,\n        testData,\n        { formType: 'diagnostic_test' }\n      );\n      \n      console.log('‚úÖ FORM SUBMISSION RESULT:', result);\n      diagnosticData.submissionResult = result;\n      \n    } catch (error) {\n      console.error('‚ùå FORM SUBMISSION FAILED:', error);\n      diagnosticData.errors.push({\n        type: 'submission_error',\n        message: error.message,\n        stack: error.stack,\n        timestamp: new Date().toISOString()\n      });\n    }\n    \n    // Restore original fetch\n    window.fetch = originalFetch;\n    \n    // 6. Generate Report\n    console.log('üìã DIAGNOSTIC REPORT:');\n    console.log('=' .repeat(80));\n    console.log('üîç TEST EMAIL FOR DASHBOARD VERIFICATION:', testEmail);\n    console.log('üìä Total Requests Captured:', diagnosticData.requests.length);\n    console.log('‚ùå Total Errors:', diagnosticData.errors.length);\n    console.log('üìÑ Full Diagnostic Data:', JSON.stringify(diagnosticData, null, 2));\n    console.log('=' .repeat(80));\n    \n    // 7. Create Dashboard Verification Instructions\n    const verificationInstructions = {\n      testEmail: testEmail,\n      expectedID: diagnosticData.submissionResult?.data?.id,\n      timestamp: diagnosticData.timestamp,\n      instructions: [\n        `Check dashboard for email: ${testEmail}`,\n        `Expected ID: ${diagnosticData.submissionResult?.data?.id || 'N/A'}`,\n        `Timestamp: ${diagnosticData.timestamp}`,\n        'If this entry does NOT appear in dashboard, there is a backend/database issue',\n        'If this entry DOES appear, the issue is with your specific browser/network'\n      ]\n    };\n    \n    console.log('üéØ DASHBOARD VERIFICATION:', verificationInstructions);\n    \n    return {\n      diagnosticData,\n      verificationInstructions,\n      testEmail\n    };\n    \n  } catch (error) {\n    console.error('‚ùå DIAGNOSTIC SESSION FAILED:', error);\n    diagnosticData.errors.push({\n      type: 'diagnostic_error',\n      message: error.message,\n      stack: error.stack,\n      timestamp: new Date().toISOString()\n    });\n    \n    return {\n      diagnosticData,\n      error: error.message\n    };\n  }\n};\n\nexport default runComprehensiveDiagnostics;"],"names":["runComprehensiveDiagnostics","async","diagnosticData","timestamp","Date","toISOString","environment","network","requests","errors","_diagnosticData$submi","_diagnosticData$submi2","_diagnosticData$submi3","_diagnosticData$submi4","userAgent","navigator","currentURL","window","location","href","origin","hostname","protocol","port","cookieEnabled","onLine","language","platform","timeZone","Intl","DateTimeFormat","resolvedOptions","DASHBOARD_CONFIG","BACKEND_URL","process","backendURL","newsletterEndpoint","ENDPOINTS","NEWSLETTER","fullURL","concat","healthCheckURL","HEALTHCHECK_URL","testEmail","now","testData","email","source","submitFormToDashboard","originalFetch","fetch","_len","arguments","length","args","Array","_key","url","options","requestDetails","method","headers","body","push","response","responseDetails","status","statusText","Object","fromEntries","entries","responseClone","clone","responseBody","text","e","error","console","message","type","stack","result","formType","submissionResult","verificationInstructions","expectedID","data","id","instructions"],"sourceRoot":""}