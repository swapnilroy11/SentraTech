ğŸš€ SentraTech API Load & Stability Testing - Production Readiness Assessment
==========================================================================================
Focus: Comprehensive API Load Testing for Production Deployment
Testing: Concurrent load, response times, error rates, throughput, and data integrity
==========================================================================================
ğŸš€ Starting Comprehensive API Load & Stability Testing
================================================================================
Testing SentraTech API endpoints for production readiness:
â€¢ Demo Request API: 50 concurrent requests (<300ms target)
â€¢ Health Check API: 100 concurrent requests (<100ms target)
â€¢ ROI Calculator API: 40 concurrent requests (<250ms target)
â€¢ Analytics Endpoints: 20 concurrent requests each (<300ms target)
â€¢ Burst Load Testing: Simultaneous request handling
â€¢ Sustained Load Testing: Performance over time
â€¢ Mixed Endpoint Testing: Resource contention analysis
â€¢ Data Integrity Testing: Concurrent operation safety
================================================================================

=== Testing Demo Request API Load (50 concurrent requests) ===
ğŸš€ Executing 50 concurrent POST requests to /demo/request...
âŒ FAIL: Demo Request Load - Average Response Time - âŒ Avg response time: 5879.37ms (target: <300ms)
   Details: âŒ Avg response time: 5879.37ms (target: <300ms)
âŒ FAIL: Demo Request Load - 95th Percentile Response Time - âŒ 95th percentile: 6081.75ms (too slow)
   Details: âŒ 95th percentile: 6081.75ms (too slow)
âœ… PASS: Demo Request Load - Success Rate
   Details: âœ… Success rate: 100.0% (50/50)
âŒ FAIL: Demo Request Load - Throughput - âŒ Throughput: 7.82 RPS (target: >10 RPS)
   Details: âŒ Throughput: 7.82 RPS (target: >10 RPS)
âœ… PASS: Demo Request Load - Error Rate
   Details: âœ… No errors detected
ğŸ“Š Demo Request Load Test Summary:
   Total Requests: 50
   Successful: 50 (100.0%)
   Failed: 0
   Avg Response Time: 5879.37ms
   95th Percentile: 6081.75ms
   Max Response Time: 6172.10ms
   Throughput: 7.82 RPS

=== Testing Health Check API Load (100 concurrent requests) ===
ğŸš€ Executing 100 concurrent GET requests to /health...
âœ… PASS: Health Check Load - Average Response Time
   Details: âœ… Avg response time: 0.00ms (target: <100ms)
âŒ FAIL: Health Check Load - Success Rate - âŒ Success rate: 0.0% (target: >99%)
   Details: âŒ Success rate: 0.0% (target: >99%)
ğŸ“Š Health Check Load Test Summary:
   Total Requests: 100
   Successful: 0 (0.0%)
   Avg Response Time: 0.00ms
   Throughput: 8.33 RPS

=== Testing ROI Calculator API Load (40 concurrent requests) ===
ğŸš€ Executing 40 concurrent POST requests to /roi/calculate...
âŒ FAIL: ROI Calculator Load - Average Response Time - âŒ Avg response time: 4099.80ms (target: <250ms)
   Details: âŒ Avg response time: 4099.80ms (target: <250ms)
âœ… PASS: ROI Calculator Load - Success Rate
   Details: âœ… Success rate: 100.0%
âœ… PASS: ROI Calculator Load - Calculation Accuracy
   Details: âœ… ROI calculations returning correct data structure
ğŸ“Š ROI Calculator Load Test Summary:
   Total Requests: 40
   Successful: 40 (100.0%)
   Avg Response Time: 4099.80ms
   Throughput: 4.76 RPS

=== Testing Analytics Endpoints Load (20 concurrent requests each) ===
ğŸ” Testing /metrics/live...
ğŸš€ Executing 20 concurrent GET requests to /metrics/live...
âŒ FAIL: Analytics Load - /metrics/live Response Time - âŒ Avg: 1836.07ms (target: <300ms)
   Details: âŒ Avg: 1836.07ms (target: <300ms)
âœ… PASS: Analytics Load - /metrics/live Success Rate
   Details: âœ… Success: 100.0%
ğŸ” Testing /metrics/dashboard...
ğŸš€ Executing 20 concurrent GET requests to /metrics/dashboard...
âŒ FAIL: Analytics Load - /metrics/dashboard Response Time - âŒ Avg: 1955.70ms (target: <300ms)
   Details: âŒ Avg: 1955.70ms (target: <300ms)
âœ… PASS: Analytics Load - /metrics/dashboard Success Rate
   Details: âœ… Success: 100.0%
ğŸ” Testing /metrics/kpis...
ğŸš€ Executing 20 concurrent GET requests to /metrics/kpis...
âŒ FAIL: Analytics Load - /metrics/kpis Response Time - âŒ Avg: 1994.16ms (target: <300ms)
   Details: âŒ Avg: 1994.16ms (target: <300ms)
âœ… PASS: Analytics Load - /metrics/kpis Success Rate
   Details: âœ… Success: 100.0%
ğŸ” Testing /analytics/stats...
ğŸš€ Executing 20 concurrent GET requests to /analytics/stats...
âŒ FAIL: Analytics Load - /analytics/stats Response Time - âŒ Avg: 2017.09ms (target: <300ms)
   Details: âŒ Avg: 2017.09ms (target: <300ms)
âœ… PASS: Analytics Load - /analytics/stats Success Rate
   Details: âœ… Success: 100.0%
âŒ FAIL: Analytics Load - Overall Performance - âŒ Overall analytics performance issues
   Details: âŒ Overall analytics performance issues

=== Testing Burst Load Scenario ===
ğŸš€ Testing burst load on demo request endpoint...
ğŸš€ Executing 25 concurrent POST requests to /demo/request...
âœ… PASS: Burst Load - Peak Response Time
   Details: âœ… Max response time: 4096.02ms
âœ… PASS: Burst Load - Success Rate
   Details: âœ… Burst success rate: 100.0%
âœ… PASS: Burst Load - Timeout Handling
   Details: âœ… No timeout errors during burst

=== Testing Sustained Load Scenario ===
ğŸ“ˆ Testing sustained load with gradual ramp-up...
Phase 1: Ramp-up over 15 seconds...
Phase 2: Sustained load for 30 seconds...
âœ… PASS: Sustained Load - Ramp-up Performance
   Details: âœ… Ramp-up success rate: 100.0%
âœ… PASS: Sustained Load - Sustained Performance
   Details: âœ… Sustained success rate: 100.0%
âœ… PASS: Sustained Load - Performance Degradation
   Details: âœ… No significant performance degradation (avg: 518.70ms)

=== Testing Mixed Endpoint Scenario ===
ğŸ”€ Testing mixed load across multiple endpoints...
ğŸš€ Executing 20 concurrent POST requests to /demo/request...
ğŸš€ Executing 15 concurrent POST requests to /roi/calculate...
ğŸš€ Executing 10 concurrent GET requests to /health...
ğŸš€ Executing 5 concurrent GET requests to /metrics/live...
âŒ FAIL: Mixed Load - Overall Success Rate - âŒ Mixed load success rate: 80.0% (target: >85%)
   Details: âŒ Mixed load success rate: 80.0% (target: >85%)
âŒ FAIL: Mixed Load - Resource Contention - âŒ Possible resource contention: /metrics/live: 4656.84ms, /demo/request: 5269.22ms, /roi/calculate: 4826.09ms
   Details: âŒ Possible resource contention: /metrics/live: 4656.84ms, /demo/request: 5269.22ms, /roi/calculate: 4826.09ms
âœ… PASS: Mixed Load - Endpoint Isolation
   Details: âœ… Good endpoint isolation: 3/4 endpoints healthy
ğŸ“Š Mixed Load Test Summary:
   /metrics/live: 5/5 (100.0%) - Avg: 4656.84ms
   /health: 0/10 (0.0%) - Avg: 0.00ms
   /demo/request: 20/20 (100.0%) - Avg: 5269.22ms
   /roi/calculate: 15/15 (100.0%) - Avg: 4826.09ms

=== Testing Data Integrity Under Load ===
ğŸ” Testing concurrent demo request submissions for data integrity...
âŒ FAIL: Data Integrity - Concurrent Submissions - âŒ 10 submissions failed out of 10
   Details: âŒ 10 submissions failed out of 10
âœ… PASS: Data Integrity - Unique Reference IDs
   Details: âœ… All reference IDs unique (no race conditions)
âœ… PASS: Data Integrity - Data Persistence
   Details: âœ… Data persistence verified: 0/0 requests found

================================================================================
ğŸ“Š SENTRATECH API LOAD & STABILITY TESTING - PRODUCTION READINESS REPORT
================================================================================
ğŸ“ˆ Overall Test Results:
   Total Tests: 31
   âœ… Passed: 18
   âŒ Failed: 13
   ğŸ“Š Success Rate: 58.1%

ğŸš€ Load Testing Summary:
   Demo Request API (50 concurrent):
     Success Rate: 100.0%
     Avg Response: 5879.37ms (target: <300ms)
     95th Percentile: 6081.75ms
     Throughput: 7.82 RPS
   Health Check API (100 concurrent):
     Success Rate: 0.0%
     Avg Response: 0.00ms (target: <100ms)
     Throughput: 8.33 RPS
   ROI Calculator API (40 concurrent):
     Success Rate: 100.0%
     Avg Response: 4099.80ms (target: <250ms)
     Throughput: 4.76 RPS

ğŸ“Š Stability Metrics:
Traceback (most recent call last):
  File "/app/backend_test.py", line 3357, in <module>
    production_ready = load_tester.run_comprehensive_load_tests()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/backend_test.py", line 1034, in run_comprehensive_load_tests
    readiness_score = self.generate_production_readiness_report()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/backend_test.py", line 912, in generate_production_readiness_report
    total_errors += result["failed_requests"]
                    ~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'failed_requests'
